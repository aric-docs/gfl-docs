import{_ as a,o as i,c as e,af as t}from"./chunks/framework.BUY-S7nA.js";const c=JSON.parse('{"title":"sweep - 清理分支","description":"","frontmatter":{},"headers":[],"relativePath":"commands/sweep.md","filePath":"commands/sweep.md","lastUpdated":1770540131000}'),l={name:"commands/sweep.md"};function h(n,s,p,d,k,r){return i(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="sweep-清理分支" tabindex="-1">sweep - 清理分支 <a class="header-anchor" href="#sweep-清理分支" aria-label="Permalink to &quot;sweep - 清理分支&quot;">​</a></h1><p>删除包含特定关键词的本地或远程分支。</p><h2 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-label="Permalink to &quot;使用方法&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [keyword] [flags]</span></span></code></pre></div><h2 id="别名" tabindex="-1">别名 <a class="header-anchor" href="#别名" aria-label="Permalink to &quot;别名&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [keyword] [flags]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [keyword] [flags]</span></span></code></pre></div><h2 id="说明" tabindex="-1">说明 <a class="header-anchor" href="#说明" aria-label="Permalink to &quot;说明&quot;">​</a></h2><p><code>sweep</code> 命令用于批量清理包含特定关键词的分支，可以清理本地分支、远程分支或两者。</p><p><strong>必须指定 <code>--local</code> 或 <code>--remote</code> 标志之一（或两者）。</strong></p><h2 id="标志" tabindex="-1">标志 <a class="header-anchor" href="#标志" aria-label="Permalink to &quot;标志&quot;">​</a></h2><table tabindex="0"><thead><tr><th>标志</th><th>简写</th><th>说明</th></tr></thead><tbody><tr><td><code>--local</code></td><td><code>-l</code></td><td>清理本地分支</td></tr><tr><td><code>--remote</code></td><td><code>-r</code></td><td>清理远程分支</td></tr><tr><td><code>--exact</code></td><td><code>-e</code></td><td>精确匹配分支名（而非包含）</td></tr><tr><td><code>--force</code></td><td><code>-f</code></td><td>强制删除本地分支（使用 -D 而非 -d）</td></tr><tr><td><code>--confirm</code></td><td><code>-y</code></td><td>确认执行删除操作</td></tr></tbody></table><h2 id="参数" tabindex="-1">参数 <a class="header-anchor" href="#参数" aria-label="Permalink to &quot;参数&quot;">​</a></h2><table tabindex="0"><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td><code>keyword</code></td><td>要匹配的关键词</td></tr></tbody></table><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><h3 id="清理本地功能分支" tabindex="-1">清理本地功能分支 <a class="header-anchor" href="#清理本地功能分支" aria-label="Permalink to &quot;清理本地功能分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --confirm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除所有包含 &quot;feature&quot; 的本地分支</span></span></code></pre></div><h3 id="清理远程已合并分支" tabindex="-1">清理远程已合并分支 <a class="header-anchor" href="#清理远程已合并分支" aria-label="Permalink to &quot;清理远程已合并分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> merged</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --confirm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除所有包含 &quot;merged&quot; 的远程分支</span></span></code></pre></div><h3 id="同时清理本地和远程" tabindex="-1">同时清理本地和远程 <a class="header-anchor" href="#同时清理本地和远程" aria-label="Permalink to &quot;同时清理本地和远程&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hotfix</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --confirm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除本地和远程所有包含 &quot;hotfix&quot; 的分支</span></span></code></pre></div><h3 id="精确匹配分支名" tabindex="-1">精确匹配分支名 <a class="header-anchor" href="#精确匹配分支名" aria-label="Permalink to &quot;精确匹配分支名&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feature/aric/specific-branch&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --exact</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --confirm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 只删除完全匹配此名称的分支</span></span></code></pre></div><h3 id="强制删除本地分支" tabindex="-1">强制删除本地分支 <a class="header-anchor" href="#强制删除本地分支" aria-label="Permalink to &quot;强制删除本地分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --force</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --confirm</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 使用 git branch -D 强制删除</span></span></code></pre></div><h3 id="快捷别名" tabindex="-1">快捷别名 <a class="header-anchor" href="#快捷别名" aria-label="Permalink to &quot;快捷别名&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clean</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -l</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hotfix</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span></span></code></pre></div><h2 id="工作流程" tabindex="-1">工作流程 <a class="header-anchor" href="#工作流程" aria-label="Permalink to &quot;工作流程&quot;">​</a></h2><h3 id="本地分支清理" tabindex="-1">本地分支清理 <a class="header-anchor" href="#本地分支清理" aria-label="Permalink to &quot;本地分支清理&quot;">​</a></h3><ol><li>获取本地分支列表</li><li>匹配包含关键词的分支</li><li>使用 <code>git branch -d</code>（安全）或 <code>git branch -D</code>（强制）删除</li></ol><h3 id="远程分支清理" tabindex="-1">远程分支清理 <a class="header-anchor" href="#远程分支清理" aria-label="Permalink to &quot;远程分支清理&quot;">​</a></h3><ol><li>获取远程分支列表</li><li>匹配包含关键词的分支</li><li>使用 <code>git push origin --delete</code> 删除</li></ol><h2 id="安全建议" tabindex="-1">安全建议 <a class="header-anchor" href="#安全建议" aria-label="Permalink to &quot;安全建议&quot;">​</a></h2><h3 id="不带-confirm-预览" tabindex="-1">不带 --confirm 预览 <a class="header-anchor" href="#不带-confirm-预览" aria-label="Permalink to &quot;不带 --confirm 预览&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remote</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 只显示将要删除的分支，不实际删除</span></span></code></pre></div><h3 id="使用-exact-避免误删" tabindex="-1">使用 --exact 避免误删 <a class="header-anchor" href="#使用-exact-避免误删" aria-label="Permalink to &quot;使用 --exact 避免误删&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 可能误删: feature/user-auth、feature/user-profile</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/user</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 精确匹配: 只删除 feature/user</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;feature/user&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --exact</span></span></code></pre></div><h2 id="典型使用场景" tabindex="-1">典型使用场景 <a class="header-anchor" href="#典型使用场景" aria-label="Permalink to &quot;典型使用场景&quot;">​</a></h2><h3 id="清理已合并的功能分支" tabindex="-1">清理已合并的功能分支 <a class="header-anchor" href="#清理已合并的功能分支" aria-label="Permalink to &quot;清理已合并的功能分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. 确保本地已同步</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sync</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. 先预览</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. 确认后删除</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --confirm</span></span></code></pre></div><h3 id="清理远程分支" tabindex="-1">清理远程分支 <a class="header-anchor" href="#清理远程分支" aria-label="Permalink to &quot;清理远程分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 清理远程已合并的 hotfix 分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hotfix</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --confirm</span></span></code></pre></div><h3 id="定期清理" tabindex="-1">定期清理 <a class="header-anchor" href="#定期清理" aria-label="Permalink to &quot;定期清理&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 每周清理一次已完成的分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --confirm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sweep</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fix</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --local</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --remote</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --confirm</span></span></code></pre></div><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ul><li><strong>必须</strong>指定 <code>--local</code> 或 <code>--remote</code> 标志</li><li>删除操作不可逆，建议先不带 <code>--confirm</code> 预览</li><li>本地分支使用 <code>-d</code> 标志（安全删除），未合并的分支无法删除</li><li>使用 <code>--force</code> 可强制删除未合并的本地分支</li><li>不能删除当前所在的分支</li></ul><h2 id="原理说明" tabindex="-1">原理说明 <a class="header-anchor" href="#原理说明" aria-label="Permalink to &quot;原理说明&quot;">​</a></h2><p><code>sweep</code> 命令通过以下 Git 命令实现：</p><h3 id="清理本地分支" tabindex="-1">清理本地分支 <a class="header-anchor" href="#清理本地分支" aria-label="Permalink to &quot;清理本地分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取本地分支列表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安全删除分支（已合并的）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/aric/old-feature</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 强制删除分支（未合并的）</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/aric/old-feature</span></span></code></pre></div><h3 id="清理远程分支-1" tabindex="-1">清理远程分支 <a class="header-anchor" href="#清理远程分支-1" aria-label="Permalink to &quot;清理远程分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 获取远程分支列表</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> branch</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 删除远程分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> feature/aric/old-feature</span></span></code></pre></div><p>匹配逻辑：</p><ul><li>使用字符串包含匹配（默认）</li><li>使用精确匹配（<code>--exact</code> 标志）</li></ul><h2 id="相关命令" tabindex="-1">相关命令 <a class="header-anchor" href="#相关命令" aria-label="Permalink to &quot;相关命令&quot;">​</a></h2><ul><li><a href="./checkout"><code>checkout</code></a> - 切换分支</li><li><a href="./start"><code>start</code></a> - 创建分支</li><li><a href="./sync"><code>sync</code></a> - 同步远程仓库</li></ul>`,55)])])}const g=a(l,[["render",h]]);export{c as __pageData,g as default};
