import{_ as s,o as i,c as e,af as t}from"./chunks/framework.BUY-S7nA.js";const k=JSON.parse('{"title":"rebase - 变基分支","description":"","frontmatter":{},"headers":[],"relativePath":"commands/rebase.md","filePath":"commands/rebase.md","lastUpdated":1770540131000}'),l={name:"commands/rebase.md"};function n(h,a,d,p,r,o){return i(),e("div",null,[...a[0]||(a[0]=[t(`<h1 id="rebase-变基分支" tabindex="-1">rebase - 变基分支 <a class="header-anchor" href="#rebase-变基分支" aria-label="Permalink to &quot;rebase - 变基分支&quot;">​</a></h1><p>将当前分支变基到开发基准分支。</p><h2 id="使用方法" tabindex="-1">使用方法 <a class="header-anchor" href="#使用方法" aria-label="Permalink to &quot;使用方法&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span></span></code></pre></div><h2 id="别名" tabindex="-1">别名 <a class="header-anchor" href="#别名" aria-label="Permalink to &quot;别名&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rb</span></span></code></pre></div><h2 id="说明" tabindex="-1">说明 <a class="header-anchor" href="#说明" aria-label="Permalink to &quot;说明&quot;">​</a></h2><p><code>rebase</code> 命令将当前分支变基到配置的 <code>devBaseBranch</code>（默认为 <code>dev</code>）的最新版本。</p><p>等效于：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin/dev</span></span></code></pre></div><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><h3 id="基本使用" tabindex="-1">基本使用 <a class="header-anchor" href="#基本使用" aria-label="Permalink to &quot;基本使用&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 当前在 feature/aric/new-feature 分支</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 将当前分支变基到 origin/dev</span></span></code></pre></div><h3 id="快捷别名" tabindex="-1">快捷别名 <a class="header-anchor" href="#快捷别名" aria-label="Permalink to &quot;快捷别名&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rb</span></span></code></pre></div><h2 id="工作流程" tabindex="-1">工作流程 <a class="header-anchor" href="#工作流程" aria-label="Permalink to &quot;工作流程&quot;">​</a></h2><ol><li>读取配置获取 <code>devBaseBranch</code></li><li>检查当前分支（避免在目标分支上执行）</li><li>执行变基操作</li></ol><h2 id="使用场景" tabindex="-1">使用场景 <a class="header-anchor" href="#使用场景" aria-label="Permalink to &quot;使用场景&quot;">​</a></h2><h3 id="在创建-pr-前变基" tabindex="-1">在创建 PR 前变基 <a class="header-anchor" href="#在创建-pr-前变基" aria-label="Permalink to &quot;在创建 PR 前变基&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 确保功能分支包含最新的 dev 更改</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sync</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 然后创建 PR</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gfl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pr</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --open</span></span></code></pre></div><h3 id="解决冲突后变基" tabindex="-1">解决冲突后变基 <a class="header-anchor" href="#解决冲突后变基" aria-label="Permalink to &quot;解决冲突后变基&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 变基过程中出现冲突</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解决冲突后</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --continue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或放弃变基</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --abort</span></span></code></pre></div><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><ul><li>不能在 <code>devBaseBranch</code> 自身上执行此命令</li><li>变基会改写历史，避免对已推送的公共分支执行</li><li>如果发生冲突，需要手动解决后继续</li><li>变基前建议先执行 <code>gfl sync</code> 获取最新信息</li></ul><h2 id="变基-vs-合并" tabindex="-1">变基 vs 合并 <a class="header-anchor" href="#变基-vs-合并" aria-label="Permalink to &quot;变基 vs 合并&quot;">​</a></h2><table tabindex="0"><thead><tr><th>操作</th><th>优点</th><th>缺点</th></tr></thead><tbody><tr><td><strong>变基</strong> (rebase)</td><td>线性历史，更清晰</td><td>改写历史，不能用于公共分支</td></tr><tr><td><strong>合并</strong> (merge)</td><td>保留完整历史</td><td>历史图形复杂</td></tr></tbody></table><h2 id="原理说明" tabindex="-1">原理说明 <a class="header-anchor" href="#原理说明" aria-label="Permalink to &quot;原理说明&quot;">​</a></h2><p><code>rebase</code> 命令通过以下 Git 命令实现：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rebase</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin/dev</span></span></code></pre></div><p>实际执行流程：</p><ol><li>读取配置获取 <code>devBaseBranch</code>（默认为 <code>dev</code>）</li><li>检查当前分支（避免在目标分支上执行）</li><li>执行 <code>git rebase origin/{devBaseBranch}</code></li></ol><p>变基过程：</p><ol><li>临时保存当前分支的所有提交</li><li>切换到目标分支（<code>origin/dev</code>）</li><li>逐个应用保存的提交</li><li>返回到当前分支</li></ol><h2 id="相关命令" tabindex="-1">相关命令 <a class="header-anchor" href="#相关命令" aria-label="Permalink to &quot;相关命令&quot;">​</a></h2><ul><li><a href="./sync.html"><code>sync</code></a> - 同步远程仓库</li><li><a href="./start.html"><code>start</code></a> - 开始新功能</li><li><a href="./pr.html"><code>pr</code></a> - 创建 Pull Request</li></ul>`,35)])])}const b=s(l,[["render",n]]);export{k as __pageData,b as default};
